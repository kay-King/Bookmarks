<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ´»ç¾å¥½ã€ä¸‡ç‰©å¯çˆ±</title>
    <!-- æ·»åŠ  Faviconï¼ˆçº¢è‰²å¿ƒå½¢å›¾æ ‡ï¼Œ16x16 PNGï¼ŒBase64 ç¼–ç ï¼‰ -->
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB2SURBVDhPzY1REoAgDATzZ3GGDtwAJ3ADbsANuIHlK9gFBMYkE09mRNJqW4s9gNcgLfoEFsAf8Adcgl/gN/gNvoLf4DfwA+QFfIJ8gB+Qz/AH5Av8gfwCi+AfeAj+QX7AJ8gX+AH5Bh7AHzgA+YUfsACuP8cXqG1lN5nWbgAAAABJRU5ErkJggg==">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --background-color: #f4f6f8;
            --card-background: #ffffff;
            --text-color: #333;
            --border-radius: 10px;
            --box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            --transition: all 0.3s ease;
            --button-height: 30px;
            --card-height: 150px;
            --content-line-height: 20px;
            --card-padding: 8px;
            --content-margin: 4px;
        }
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: var(--background-color);
            color: var(--text-color);
            line-height: 1.5;
            letter-spacing: 0.5px;
            display: flex;
            position: relative;
            box-sizing: border-box;
            min-height: 100vh;
        }
        #category-wrapper {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 60px;
            z-index: 1000;
        }
        #category-btn {
            padding: 8px 12px;
            background: var(--primary-color);
            border-radius: var(--border-radius);
            color: white;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            text-align: center;
            font-size: 14px;
        }
        #category-btn:hover {
            background: #0056b3;
        }
        #sidebar {
            position: absolute;
            top: 60px;
            left: 0;
            width: 100px;
            background: var(--card-background);
            padding: 10px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: none;
            max-height: 80vh;
            overflow-y: auto;
            font-size: 12px;
        }
        #sidebar::-webkit-scrollbar {
            width: 8px;
        }
        #sidebar::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }
        #sidebar::-webkit-scrollbar-track {
            background: var(--background-color);
        }
        #sidebar h2 {
            margin: 0 0 10px;
            font-size: 14px;
            color: var(--text-color);
        }
        .category-item {
            padding: 8px 12px;
            margin: 5px 0;
            background: #e9ecef;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .category-item:hover {
            background: #d1d5db;
            overflow: visible;
            white-space: normal;
        }
        .category-item.active {
            background: var(--primary-color);
            color: white;
        }
        #container {
            flex: 1;
            max-width: 1100px;
            margin: 0 auto;
            transition: margin-left 0.3s ease;
            margin-left: 100px;
            box-sizing: border-box;
        }
        #title {
            text-align: center;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-color);
        }
        #tips {
            font-size: 14px;
            color: #856404;
            margin-bottom: 20px;
            padding: 15px 10px;
            border-left: 4px solid #ffca28;
            background: #fff8e1;
            border-radius: var(--border-radius);
            line-height: 1.6;
        }
        #controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
            width: 100%;
            box-sizing: border-box;
        }
        #search {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 14px;
            transition: var(--transition);
            width: 100%;
            box-sizing: border-box;
        }
        #search:focus {
            border-color: var(--primary-color);
            outline: none;
        }
        button {
            padding: 5px 10px;
            border: none;
            border-radius: var(--border-radius);
            background: var(--primary-color);
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
            height: var(--button-height);
            box-sizing: border-box;
        }
        button:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }
        button:active {
            transform: scale(0.98);
        }
        .delete-btn {
            background: var(--danger-color);
        }
        .delete-btn:hover {
            background: #b02a37;
        }
        #add-form {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-background);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            width: 400px;
            min-height: 200px;
            box-sizing: border-box;
        }
        .form-group {
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            align-items: baseline;
            gap: 5px;
        }
        .form-group label {
            font-weight: 500;
            color: var(--text-color);
            margin-right: 5px;
            min-width: 50px;
        }
        .form-group p {
            margin: 0;
            flex: 1;
            word-break: break-word;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 14px;
            box-sizing: border-box;
            transition: var(--transition);
        }
        input:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
        }
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        .form-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        .bookmark-grid {
            display: grid;
            gap: 20px;
            justify-content: flex-start;
            width: 100%;
            box-sizing: border-box;
        }
        .bookmark-card {
            background: var(--card-background);
            border: 1px solid #e5e7eb;
            padding: var(--card-padding);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            cursor: move;
            height: var(--card-height);
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        .bookmark-card:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }
        .bookmark-card h3 {
            margin: 0;
            margin-bottom: var(--content-margin);
            font-size: 16px;
            color: var(--text-color);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: pointer;
            height: var(--content-line-height);
            line-height: var(--content-line-height);
        }
        .bookmark-card p.url {
            margin: 0;
            margin-bottom: var(--content-margin);
            font-size: 14px;
            color: var(--secondary-color);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            height: var(--content-line-height);
            line-height: var(--content-line-height);
        }
        .bookmark-card .desc-container {
            height: calc(var(--content-line-height) * 2);
            margin-bottom: var(--content-margin);
        }
        .bookmark-card .desc {
            margin: 0;
            font-size: 14px;
            color: var(--secondary-color);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            white-space: normal;
            overflow: hidden;
            height: calc(var(--content-line-height) * 2);
            line-height: var(--content-line-height);
        }
        .bookmark-card a {
            color: var(--primary-color);
            text-decoration: none;
        }
        .bookmark-card a:hover {
            text-decoration: underline;
        }
        .bookmark-card .category-container {
            height: var(--content-line-height);
            display: flex;
            align-items: center;
            margin-bottom: 0;
            margin-top: 6px;
        }
        .category-tag {
            display: inline-block;
            padding: 4px 8px;
            background: #e9ecef;
            border-radius: 15px;
            font-size: 12px;
            color: var(--secondary-color);
            max-width: 60px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .dragging {
            opacity: 0.6;
            border: 2px dashed var(--primary-color);
        }
        .drop-target {
            border: 2px dashed var(--primary-color);
            opacity: 0.8;
            background: #f0f8ff;
            transition: border 0.1s ease;
        }
        .action-buttons {
            display: flex;
            gap: 5px;
            justify-content: flex-end;
            align-items: center;
            height: var(--button-height);
            width: 100%;
            position: absolute;
            bottom: var(--card-padding);
            right: var(--card-padding);
        }
        .action-buttons button {
            padding: 8px 12px;
            min-width: 60px;
        }
        .bookmark-content {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            padding-bottom: calc(var(--button-height) + var(--card-padding));
        }
        #view-modal, #view-bookmark-modal, #add-form, #export-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-background);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            width: 400px;
            min-height: 200px;
            box-sizing: border-box;
        }
        #view-modal button {
            background: #ffffff;
            color: var(--text-color);
            margin: 10px 0;
            width: 100%;
        }
        #view-modal button.selected {
            background: var(--primary-color);
            color: white;
        }
        #view-modal button:hover {
            background: #0056b3;
            color: white;
        }
        #help-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-background);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-sizing: border-box;
        }
        #view-modal h3, #view-bookmark-modal h3, #help-modal h3, #add-form h3, #export-modal h3 {
            margin: 0 0 15px;
            font-size: 18px;
            color: var(--text-color);
        }
        #view-bookmark-modal button, #export-modal button {
            margin: 10px 0;
            width: 100%;
        }
        #help-modal button {
            width: auto; /* è°ƒæ•´ä¸ºè‡ªåŠ¨å®½åº¦ */
            padding: 8px 20px; /* æ›´å°çš„å†…è¾¹è· */
            margin: 10px auto 0; /* å±…ä¸­æ˜¾ç¤º */
            display: block; /* ç¡®ä¿å±…ä¸­ç”Ÿæ•ˆ */
            font-size: 14px; /* ä¿æŒå­—ä½“å¤§å°ä¸€è‡´ */
        }
        #overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

        /* æ‰‹æœºç«¯é€‚é… */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                flex-direction: column;
            }
            #category-wrapper {
                position: static;
                width: 100%;
                margin-bottom: 10px;
            }
            #category-btn {
                width: 100%;
                font-size: 16px;
                padding: 10px;
            }
            #sidebar {
                position: static;
                width: 100%;
                max-height: 200px;
                font-size: 14px;
            }
            #container {
                margin-left: 0;
                max-width: 100%;
                padding: 0;
            }
            #title {
                font-size: 20px;
            }
            #tips {
                font-size: 12px;
                padding: 10px;
            }
            #controls {
                flex-direction: column;
                gap: 8px;
            }
            #search {
                font-size: 14px;
                padding: 8px;
            }
            button {
                font-size: 14px;
                padding: 8px 12px;
                min-width: 100%;
                height: 40px;
            }
            .bookmark-grid {
                grid-template-columns: repeat(auto-fill, minmax(100%, 1fr));
                gap: 10px;
            }
            .bookmark-card {
                height: 180px;
                padding: 10px;
            }
            .bookmark-card h3 {
                font-size: 14px;
                height: 18px;
                line-height: 18px;
            }
            .bookmark-card p.url {
                font-size: 12px;
                height: 18px;
                line-height: 18px;
            }
            .bookmark-card .desc-container {
                height: 36px;
            }
            .bookmark-card .desc {
                font-size: 12px;
                height: 36px;
                line-height: 18px;
            }
            .bookmark-card .category-container {
                height: 18px;
                margin-top: 4px;
            }
            .category-tag {
                font-size: 10px;
                padding: 3px 6px;
                max-width: 50px;
            }
            .action-buttons {
                height: 40px;
            }
            .action-buttons button {
                font-size: 12px;
                padding: 6px 10px;
                min-width: 50px;
            }
            .bookmark-content {
                padding-bottom: 48px;
            }
            #add-form, #view-modal, #view-bookmark-modal, #export-modal {
                width: 90%;
                padding: 15px;
            }
            #help-modal {
                width: 90%;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div id="category-wrapper">
        <div id="category-btn" onclick="toggleCategories()">ğŸ“‚ åˆ†ç±»</div>
        <div id="sidebar">
            <h2>é€‰æ‹©åˆ†ç±»</h2>
            <div id="categories"></div>
        </div>
    </div>
    <div id="container">
        <div id="title">ç¦»çº¿ä¹¦ç­¾ç®¡ç†å™¨</div>
        <div id="tips">æ‚¨å¯ä»¥æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å’Œæ‹–åŠ¨æ’åºä¹¦ç­¾ã€‚ä½¿ç”¨â€œå¯¼å‡ºä¹¦ç­¾â€ä¿å­˜æ•°æ®åˆ° bookmarks.json æˆ– txt æ–‡ä»¶ï¼Œæ–‡ä»¶å°†ä¿å­˜åˆ°æ‚¨çš„ä¸‹è½½ç›®å½•ï¼Œè¯·æ‰‹åŠ¨ç§»åŠ¨åˆ°ç¨‹åºæ‰€åœ¨æ–‡ä»¶å¤¹ä¸ä»–äººåˆ†äº«ã€‚å¯¼å…¥æ—¶å°†æ–‡ä»¶æ”¾å…¥åŒä¸€ç›®å½•å¹¶ç‚¹å‡»â€œå¯¼å…¥ä¹¦ç­¾â€åŠ è½½ã€‚</div>
        <div id="controls">
            <button onclick="toggleAddForm(true)">â• æ·»åŠ ä¹¦ç­¾</button>
            <button onclick="toggleEditMode()" id="edit-mode-btn">âœï¸ ç¼–è¾‘ä¹¦ç­¾</button>
            <button onclick="toggleEditMode()" id="done-btn" style="display: none;">âœ… å®Œæˆ</button>
            <button onclick="showViewModal()">ğŸ” åˆ‡æ¢è§†å›¾</button>
            <button onclick="showExportModal()">ğŸ“¤ å¯¼å‡ºä¹¦ç­¾</button>
            <button onclick="document.getElementById('import-file').click()">ğŸ“¥ å¯¼å…¥ä¹¦ç­¾</button>
            <input type="file" id="import-file" style="display: none;" accept=".json,.txt" onchange="importBookmarks(event)">
            <button onclick="showHelpModal()">â“ ä½¿ç”¨å¸®åŠ©</button>
            <input type="text" id="search" placeholder="æœç´¢ä¹¦ç­¾ï¼ˆåç§°ï¼‰" oninput="searchBookmarks()">
        </div>
        
        <div id="add-form">
            <h3>æ·»åŠ /ç¼–è¾‘ä¹¦ç­¾</h3>
            <div class="form-group">
                <label>åç§°:</label>
                <input type="text" id="name" placeholder="è¯·è¾“å…¥ä¹¦ç­¾åç§°">
            </div>
            <div class="form-group">
                <label>é“¾æ¥:</label>
                <input type="text" id="url" placeholder="è¯·è¾“å…¥é“¾æ¥ (å¦‚ https://example.com)">
            </div>
            <div class="form-group">
                <label>ç®€ä»‹:</label>
                <textarea id="desc" placeholder="è¯·è¾“å…¥ç®€ä»‹ï¼ˆå¯é€‰ï¼‰"></textarea>
            </div>
            <div class="form-group">
                <label>åˆ†ç±»:</label>
                <input type="text" id="category" list="category-list" placeholder="è¾“å…¥æˆ–é€‰æ‹©åˆ†ç±»">
                <datalist id="category-list"></datalist>
            </div>
            <div class="form-buttons">
                <button onclick="saveBookmark()">ğŸ’¾ ä¿å­˜</button>
                <button onclick="toggleAddForm(false)">âŒ å–æ¶ˆ</button>
            </div>
        </div>

        <div id="bookmarks"></div>
    </div>

    <div id="overlay" onclick="hideViewModal(); hideBookmarkModal(); hideHelpModal(); toggleAddForm(false); hideExportModal();"></div>
    <div id="view-modal">
        <h3>é€‰æ‹©æ¯è¡Œå¡ç‰‡æ•°</h3>
        <button onclick="setView(1); hideViewModal()" data-view="1">æ¯è¡Œ 1 ä¸ª</button>
        <button onclick="setView(2); hideViewModal()" data-view="2">æ¯è¡Œ 2 ä¸ª</button>
        <button onclick="setView(3); hideViewModal()" data-view="3">æ¯è¡Œ 3 ä¸ª</button>
        <button onclick="setView(4); hideViewModal()" data-view="4">æ¯è¡Œ 4 ä¸ª</button>
        <button onclick="setView(5); hideViewModal()" data-view="5">æ¯è¡Œ 5 ä¸ª</button>
    </div>
    <div id="view-bookmark-modal">
        <h3>ä¹¦ç­¾è¯¦æƒ…</h3>
        <div id="bookmark-details"></div>
        <button onclick="hideBookmarkModal()">å…³é—­</button>
    </div>
    <div id="help-modal">
        <h3>ä½¿ç”¨å¸®åŠ©</h3>
        <div id="help-content">
            <p><strong>ç¨‹åºä»‹ç»ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªç¦»çº¿ä¹¦ç­¾ç®¡ç†å™¨ï¼Œå¯å¸®åŠ©æ‚¨åœ¨æœ¬åœ°ç®¡ç†ä¹¦ç­¾ï¼Œæ— éœ€è”ç½‘å³å¯ä½¿ç”¨ï¼Œæ”¯æŒåˆ†ç±»ç®¡ç†ã€æœç´¢å’Œè§†å›¾åˆ‡æ¢ã€‚</p>
            <p><strong>åŠŸèƒ½ï¼š</strong></p>
            <ul>
                <li>æ·»åŠ ä¹¦ç­¾ï¼šç‚¹å‡»â€œæ·»åŠ ä¹¦ç­¾â€æŒ‰é’®ï¼Œå¡«å†™åç§°ã€é“¾æ¥ã€ç®€ä»‹å’Œåˆ†ç±»ã€‚</li>
                <li>ç¼–è¾‘ä¹¦ç­¾ï¼šç‚¹å‡»â€œç¼–è¾‘ä¹¦ç­¾â€æŒ‰é’®ï¼Œé€‰æ‹©å¡ç‰‡ä¸Šçš„ç¼–è¾‘é€‰é¡¹è¿›è¡Œä¿®æ”¹ã€‚</li>
                <li>åˆ é™¤ä¹¦ç­¾ï¼šç‚¹å‡»â€œç¼–è¾‘ä¹¦ç­¾â€æŒ‰é’®ï¼Œé€‰æ‹©å¡ç‰‡ä¸Šçš„åˆ é™¤é€‰é¡¹ã€‚</li>
                <li>æ‹–åŠ¨æ’åºï¼šæŒ‰ä½å¡ç‰‡æ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®è°ƒæ•´é¡ºåºã€‚</li>
                <li>å¯¼å‡ºä¹¦ç­¾ï¼šç‚¹å‡»â€œå¯¼å‡ºä¹¦ç­¾â€é€‰æ‹©ä¿å­˜ä¸º bookmarks.json æˆ– txt æ–‡ä»¶ï¼Œæ–‡ä»¶å°†ä¿å­˜åˆ°æ‚¨çš„ä¸‹è½½ç›®å½•ï¼Œè¯·æ‰‹åŠ¨ç§»åŠ¨åˆ°ç¨‹åºæ‰€åœ¨æ–‡ä»¶å¤¹ã€‚</li>
                <li>å¯¼å…¥ä¹¦ç­¾ï¼šç‚¹å‡»â€œå¯¼å…¥ä¹¦ç­¾â€åŠ è½½ bookmarks.json æˆ– txt æ–‡ä»¶ã€‚</li>
                <li>æœç´¢ä¹¦ç­¾ï¼šåœ¨æœç´¢æ¡†è¾“å…¥åç§°è¿›è¡Œç­›é€‰ã€‚</li>
                <li>åˆ‡æ¢è§†å›¾ï¼šç‚¹å‡»â€œåˆ‡æ¢è§†å›¾â€é€‰æ‹©æ¯è¡Œæ˜¾ç¤ºçš„å¡ç‰‡æ•°ï¼ˆ1-5ä¸ªï¼‰ã€‚</li>
            </ul>
            <p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
            <ol>
                <li>å¯åŠ¨ç¨‹åºï¼Œé»˜è®¤æ˜¾ç¤ºæ‰€æœ‰ä¹¦ç­¾ã€‚</li>
                <li>ç‚¹å‡»å·¦ä¾§â€œåˆ†ç±»â€æŒ‰é’®ï¼ŒæŒ‰åˆ†ç±»ç­›é€‰ä¹¦ç­¾ã€‚</li>
                <li>é€šè¿‡é¡¶éƒ¨æŒ‰é’®æ“ä½œä¹¦ç­¾ï¼Œæˆ–æ‹–åŠ¨å¡ç‰‡è°ƒæ•´é¡ºåºã€‚</li>
                <li>ç‚¹å‡»å¡ç‰‡åç§°æŸ¥çœ‹å®Œæ•´è¯¦æƒ…ã€‚</li>
            </ol>
            <p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
            <ul>
                <li>ä¿å­˜çš„ä¹¦ç­¾æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­ï¼Œæ¸…ç©ºæµè§ˆå™¨ç¼“å­˜å¯èƒ½ä¸¢å¤±æ•°æ®ã€‚</li>
                <li>ç”±äºæµè§ˆå™¨å®‰å…¨é™åˆ¶ï¼Œå¯¼å‡ºæ–‡ä»¶é»˜è®¤ä¿å­˜åˆ°ä¸‹è½½ç›®å½•ï¼Œè¯·æ‰‹åŠ¨ç§»åŠ¨åˆ°ç¨‹åºæ‰€åœ¨æ–‡ä»¶å¤¹ä»¥ä¾¿å¯¼å…¥ã€‚</li>
                <li>ç®€ä»‹å†…å®¹åœ¨å¡ç‰‡ä¸­æœ€å¤šæ˜¾ç¤ºä¸¤è¡Œï¼Œç‚¹å‡»åç§°æŸ¥çœ‹å®Œæ•´å†…å®¹ã€‚</li>
                <li>å»ºè®®å®šæœŸå¯¼å‡ºä¹¦ç­¾å¤‡ä»½ï¼Œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</li>
            </ul>
        </div>
        <button onclick="hideHelpModal()">å…³é—­</button>
    </div>
    <div id="export-modal">
        <h3>é€‰æ‹©å¯¼å‡ºæ ¼å¼</h3>
        <button onclick="exportBookmarks('json'); hideExportModal()">å¯¼å‡ºä¸º JSON</button>
        <button onclick="exportBookmarks('txt'); hideExportModal()">å¯¼å‡ºä¸º TXT</button>
    </div>

    <script>
        let bookmarks = [];
        let itemsPerRow = 5;
        let filteredBookmarks = [];
        let selectedCategory = 'å…¨éƒ¨';
        let editingIndex = null;
        let isEditMode = false;
        let isSidebarVisible = false;

        function saveBookmarks() {
            try {
                localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
                renderCategories();
                filteredBookmarks = selectedCategory === 'å…¨éƒ¨' ? [...bookmarks] : bookmarks.filter(b => b.category === selectedCategory);
                renderBookmarks();
            } catch (e) {
                console.error('ä¿å­˜ä¹¦ç­¾å¤±è´¥ï¼š' + e.message);
                alert('ä¿å­˜ä¹¦ç­¾å¤±è´¥ï¼Œå¯èƒ½æ˜¯å­˜å‚¨ç©ºé—´ä¸è¶³ï¼š' + e.message);
            }
        }

        function renderCategories() {
            const categories = ['å…¨éƒ¨', ...new Set(bookmarks.map(b => b.category).filter(cat => cat))];
            const container = document.getElementById('categories');
            container.innerHTML = '';
            categories.forEach(cat => {
                const div = document.createElement('div');
                div.className = 'category-item';
                div.textContent = cat;
                div.onclick = () => selectCategory(cat);
                if (cat === selectedCategory) div.classList.add('active');
                container.appendChild(div);
            });
            updateCategoryList(categories);
        }

        function updateCategoryList(categories) {
            const datalist = document.getElementById('category-list');
            datalist.innerHTML = '';
            categories.forEach(cat => {
                if (cat !== 'å…¨éƒ¨') {
                    const option = document.createElement('option');
                    option.value = cat;
                    datalist.appendChild(option);
                }
            });
        }

        function toggleCategories() {
            const sidebar = document.getElementById('sidebar');
            const container = document.getElementById('container');
            isSidebarVisible = !isSidebarVisible;
            if (isSidebarVisible) {
                sidebar.style.display = 'block';
                container.style.marginLeft = window.innerWidth > 768 ? '180px' : '0';
                renderCategories();
            } else {
                sidebar.style.display = 'none';
                container.style.marginLeft = window.innerWidth > 768 ? '100px' : '0';
            }
        }

        function selectCategory(category) {
            selectedCategory = category;
            filteredBookmarks = category === 'å…¨éƒ¨' ? [...bookmarks] : bookmarks.filter(b => b.category === category);
            renderBookmarks();
            toggleCategories();
        }

        function renderBookmarks() {
            const container = document.getElementById('bookmarks');
            container.innerHTML = '';
            container.className = 'bookmark-grid';

            const baseWidth = 1100 - 40; // 1060px
            const gap = 20;
            let cardWidth;

            if (window.innerWidth <= 768) {
                cardWidth = window.innerWidth - 40; // æ‰‹æœºç«¯å æ»¡å®½åº¦
                container.style.gridTemplateColumns = 'repeat(auto-fill, minmax(100%, 1fr))';
            } else {
                switch (itemsPerRow) {
                    case 1:
                        cardWidth = baseWidth;
                        break;
                    case 2:
                        cardWidth = (baseWidth - gap) / 2;
                        break;
                    case 3:
                        cardWidth = (baseWidth - gap * 2) / 3;
                        break;
                    case 4:
                        cardWidth = (baseWidth - gap * 3) / 4;
                        break;
                    case 5:
                        cardWidth = (baseWidth - gap * 4) / 5;
                        break;
                    default:
                        cardWidth = 180;
                }
                container.style.gridTemplateColumns = `repeat(${itemsPerRow}, ${cardWidth}px)`;
            }

            filteredBookmarks.forEach((bookmark, index) => {
                const div = document.createElement('div');
                div.className = 'bookmark-card';
                div.draggable = true;
                div.dataset.index = index;
                div.style.width = window.innerWidth > 768 ? `${cardWidth}px` : '100%';

                const displayCategory = bookmark.category && bookmark.category.length > 5 
                    ? bookmark.category.substring(0, 5) + '...' 
                    : bookmark.category || 'æœªåˆ†ç±»';

                const showCategory = !(itemsPerRow === 5 && isEditMode);

                div.innerHTML = `
                    <div class="bookmark-content">
                        <h3 onclick="showBookmarkDetails(${index})">${bookmark.name || 'æœªå‘½å'}</h3>
                        <p class="url"><a href="${bookmark.url}" target="_blank">${bookmark.url || ''}</a></p>
                        <div class="desc-container">
                            <p class="desc">${bookmark.desc || ''}</p>
                        </div>
                        ${showCategory ? `<div class="category-container">
                            <span class="category-tag">${displayCategory}</span>
                        </div>` : ''}
                    </div>
                    <div class="action-buttons" style="${isEditMode ? 'display: flex;' : 'display: none;'}">
                        <button onclick="editBookmark(${index}); event.stopPropagation();">âœï¸ ç¼–è¾‘</button>
                        <button class="delete-btn" onclick="deleteBookmark(${index}); event.stopPropagation();">ğŸ—‘ï¸ åˆ é™¤</button>
                    </div>
                `;
                container.appendChild(div);
            });

            const items = container.querySelectorAll('.bookmark-card');
            items.forEach(item => {
                item.removeEventListener('dragstart', handleDragStart);
                item.removeEventListener('dragover', handleDragOver);
                item.removeEventListener('drop', handleDrop);
                item.removeEventListener('dragend', handleDragEnd);
                item.removeEventListener('dragenter', handleDragEnter);
                item.removeEventListener('dragleave', handleDragLeave);
                item.removeEventListener('drag', handleDrag);
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragover', handleDragOver);
                item.addEventListener('drop', handleDrop);
                item.addEventListener('dragend', handleDragEnd);
                item.addEventListener('dragenter', handleDragEnter);
                item.addEventListener('dragleave', handleDragLeave);
                item.addEventListener('drag', handleDrag);

                // æ·»åŠ è§¦æ‘¸äº‹ä»¶æ”¯æŒ
                item.addEventListener('touchstart', handleTouchStart);
                item.addEventListener('touchmove', handleTouchMove);
                item.addEventListener('touchend', handleTouchEnd);
            });
        }

        function toggleAddForm(show) {
            const form = document.getElementById('add-form');
            const overlay = document.getElementById('overlay');
            
            if (show) {
                form.style.display = 'block';
                overlay.style.display = 'block';
            } else {
                form.style.display = 'none';
                overlay.style.display = 'none';
                editingIndex = null;
                document.getElementById('name').value = '';
                document.getElementById('url').value = '';
                document.getElementById('desc').value = '';
                document.getElementById('category').value = '';
            }
        }

        function saveBookmark() {
            const name = document.getElementById('name').value.trim();
            const url = document.getElementById('url').value.trim();
            const desc = document.getElementById('desc').value.trim();
            const category = document.getElementById('category').value.trim();

            if (!name || !url) {
                alert('è¯·å¡«å†™åç§°å’Œé“¾æ¥');
                return;
            }

            const bookmark = { name, url, desc: desc || '', category: category || 'æœªåˆ†ç±»' };
            if (editingIndex !== null) {
                const globalIndex = bookmarks.findIndex(b => b === filteredBookmarks[editingIndex]);
                if (globalIndex !== -1) {
                    bookmarks[globalIndex] = bookmark;
                }
            } else {
                bookmarks.push(bookmark);
            }
            saveBookmarks();
            toggleAddForm(false);
        }

        function editBookmark(index) {
            const bookmark = filteredBookmarks[index];
            document.getElementById('name').value = bookmark.name;
            document.getElementById('url').value = bookmark.url;
            document.getElementById('desc').value = bookmark.desc || '';
            document.getElementById('category').value = bookmark.category;
            editingIndex = index;
            toggleAddForm(true);
        }

        function deleteBookmark(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¹¦ç­¾å—ï¼Ÿ')) {
                const globalIndex = bookmarks.indexOf(filteredBookmarks[index]);
                if (globalIndex !== -1) {
                    bookmarks.splice(globalIndex, 1);
                    saveBookmarks();
                }
            }
        }

        function toggleEditMode() {
            isEditMode = !isEditMode;
            document.getElementById('edit-mode-btn').style.display = isEditMode ? 'none' : 'inline-flex';
            document.getElementById('done-btn').style.display = isEditMode ? 'inline-flex' : 'none';
            renderBookmarks();
        }

        function showViewModal() {
            const modal = document.getElementById('view-modal');
            const buttons = modal.querySelectorAll('button');
            buttons.forEach(button => {
                const view = parseInt(button.dataset.view);
                if (view === itemsPerRow) {
                    button.classList.add('selected');
                } else {
                    button.classList.remove('selected');
                }
            });
            modal.style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }

        function hideViewModal() {
            document.getElementById('view-modal').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function showBookmarkDetails(index) {
            const bookmark = filteredBookmarks[index];
            const details = document.getElementById('bookmark-details');
            details.innerHTML = `
                <div class="form-group">
                    <label>åç§°:</label>
                    <p>${bookmark.name}</p>
                </div>
                <div class="form-group">
                    <label>é“¾æ¥:</label>
                    <p><a href="${bookmark.url}" target="_blank">${bookmark.url}</a></p>
                </div>
                <div class="form-group">
                    <label>ç®€ä»‹:</label>
                    <p>${bookmark.desc || ''}</p>
                </div>
                <div class="form-group">
                    <label>åˆ†ç±»:</label>
                    <p>${bookmark.category}</p>
                </div>
            `;
            document.getElementById('view-bookmark-modal').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }

        function hideBookmarkModal() {
            document.getElementById('view-bookmark-modal').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function showHelpModal() {
            document.getElementById('help-modal').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }

        function hideHelpModal() {
            document.getElementById('help-modal').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function showExportModal() {
            document.getElementById('export-modal').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }

        function hideExportModal() {
            document.getElementById('export-modal').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function setView(perRow) {
            itemsPerRow = perRow;
            renderBookmarks();
            const buttons = document.getElementById('view-modal').querySelectorAll('button');
            buttons.forEach(button => {
                const view = parseInt(button.dataset.view);
                if (view === itemsPerRow) {
                    button.classList.add('selected');
                } else {
                    button.classList.remove('selected');
                }
            });
            hideViewModal();
        }

        function searchBookmarks() {
            const query = document.getElementById('search').value.toLowerCase();
            filteredBookmarks = selectedCategory === 'å…¨éƒ¨' ?
                bookmarks.filter(b => b.name.toLowerCase().includes(query)) :
                bookmarks.filter(b => b.category === selectedCategory && b.name.toLowerCase().includes(query));
            renderBookmarks();
        }

        function exportBookmarks(format) {
            try {
                const date = new Date().toISOString().slice(0, 10).replace(/-/g, '.');
                const filename = `bookmarks_${date}.${format}`;
                let content, type;

                if (format === 'json') {
                    content = JSON.stringify(bookmarks);
                    type = 'application/json';
                } else if (format === 'txt') {
                    content = bookmarks.map((b, i) => (
                        `${i + 1}.\n` +
                        `åç§°: ${b.name}\n` +
                        `é“¾æ¥: ${b.url}\n` +
                        `ç®€ä»‹: ${b.desc || 'æ— '}\n` +
                        `åˆ†ç±»: ${b.category || 'æœªåˆ†ç±»'}\n` +
                        '------------------------\n'
                    )).join('');
                    type = 'text/plain';
                }

                const blob = new Blob([content], { type });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = filename;
                link.click();
                URL.revokeObjectURL(url);
                alert(`æ–‡ä»¶å·²ä¿å­˜åˆ°æ‚¨çš„ä¸‹è½½ç›®å½•ï¼Œè¯·æ‰‹åŠ¨ç§»åŠ¨åˆ°ç¨‹åºæ‰€åœ¨æ–‡ä»¶å¤¹ï¼ˆå¦‚ ${window.location.pathname.replace(/[^\/]+$/, '')}ï¼‰ä»¥ä¾¿å¯¼å…¥ã€‚`);
            } catch (e) {
                alert('å¯¼å‡ºä¹¦ç­¾å¤±è´¥ï¼š' + e.message);
            }
        }

        function importBookmarks(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    if (file.name.endsWith('.json')) {
                        const imported = JSON.parse(e.target.result);
                        if (Array.isArray(imported)) {
                            bookmarks = imported;
                            saveBookmarks();
                            alert('ä¹¦ç­¾å¯¼å…¥æˆåŠŸï¼');
                        } else {
                            alert('æ— æ•ˆçš„ JSON æ–‡ä»¶æ ¼å¼ï¼Œè¯·ç¡®ä¿æ˜¯ä¹¦ç­¾æ•°ç»„');
                        }
                    } else if (file.name.endsWith('.txt')) {
                        const text = e.target.result;
                        const entries = text.split('------------------------\n').filter(entry => entry.trim());
                        const importedBookmarks = [];

                        for (const entry of entries) {
                            const lines = entry.split('\n').filter(line => line.trim());
                            if (lines.length < 5) continue; // è‡³å°‘éœ€è¦åºå·ã€åç§°ã€é“¾æ¥ã€ç®€ä»‹ã€åˆ†ç±»

                            const bookmark = {};
                            for (const line of lines) {
                                if (line.match(/^\d+\./)) continue; // è·³è¿‡åºå·è¡Œ
                                const [key, ...valueParts] = line.split(': ');
                                const value = valueParts.join(': ').trim();
                                if (key.includes('åç§°')) bookmark.name = value;
                                if (key.includes('é“¾æ¥')) bookmark.url = value;
                                if (key.includes('ç®€ä»‹')) bookmark.desc = value === 'æ— ' ? '' : value;
                                if (key.includes('åˆ†ç±»')) bookmark.category = value === 'æœªåˆ†ç±»' ? '' : value;
                            }
                            if (bookmark.name && bookmark.url) {
                                importedBookmarks.push({
                                    name: bookmark.name,
                                    url: bookmark.url,
                                    desc: bookmark.desc || '',
                                    category: bookmark.category || 'æœªåˆ†ç±»'
                                });
                            }
                        }

                        if (importedBookmarks.length > 0) {
                            bookmarks = importedBookmarks;
                            saveBookmarks();
                            alert('ä¹¦ç­¾å¯¼å…¥æˆåŠŸï¼');
                        } else {
                            alert('TXT æ–‡ä»¶ä¸­æœªæ‰¾åˆ°æœ‰æ•ˆä¹¦ç­¾æ•°æ®');
                        }
                    } else {
                        alert('ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼Œä»…æ”¯æŒ .json å’Œ .txt æ–‡ä»¶');
                    }
                } catch (error) {
                    alert('å¯¼å…¥å¤±è´¥ï¼š' + error.message);
                }
            };
            reader.onerror = function() {
                alert('è¯»å–æ–‡ä»¶å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æŸå');
            };
            reader.readAsText(file);
        }

        let dragSrcIndex = null;
        let dropTarget = null;
        let scrollInterval = null;
        let touchSrcIndex = null;
        let touchStartY = 0;
        let currentClientY = 0; // ç”¨äºè·Ÿè¸ªå½“å‰æ‹–åŠ¨ä½ç½®
        let currentClientX = 0; // ç”¨äºè·Ÿè¸ªå½“å‰æ‹–åŠ¨æ¨ªåæ ‡

        function handleDragStart(e) {
            dragSrcIndex = parseInt(e.target.dataset.index);
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            currentClientY = e.clientY; // åˆå§‹åŒ–æ‹–åŠ¨ä½ç½®
            currentClientX = e.clientX; // åˆå§‹åŒ–æ¨ªåæ ‡
            startAutoScroll();
        }

        function handleDrag(e) {
            e.preventDefault();
            currentClientY = e.clientY; // å®æ—¶æ›´æ–°æ‹–åŠ¨ä½ç½®
            currentClientX = e.clientX; // å®æ—¶æ›´æ–°æ¨ªåæ ‡
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
            currentClientY = e.clientY; // æ›´æ–°ä½ç½®
            currentClientX = e.clientX; // æ›´æ–°æ¨ªåæ ‡
            const target = document.elementFromPoint(currentClientX, currentClientY)?.closest('.bookmark-card');
            if (target && target !== document.querySelector('.dragging')) {
                if (dropTarget && dropTarget !== target) {
                    dropTarget.classList.remove('drop-target');
                }
                dropTarget = target;
                dropTarget.classList.add('drop-target');
            }
        }

        function handleDragEnter(e) {
            e.preventDefault();
        }

        function handleDragLeave(e) {
            const target = e.target.closest('.bookmark-card');
            if (target && target === dropTarget && !isOverTarget(target, e.clientX, e.clientY)) {
                target.classList.remove('drop-target');
                dropTarget = null;
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            const dragTargetIndex = parseInt(e.target.closest('.bookmark-card')?.dataset.index);
            if (dragSrcIndex !== null && dragTargetIndex !== undefined && dragSrcIndex !== dragTargetIndex) {
                const draggedItem = filteredBookmarks[dragSrcIndex];
                const globalSrcIndex = bookmarks.indexOf(draggedItem);
                const globalTargetIndex = bookmarks.indexOf(filteredBookmarks[dragTargetIndex]);
                if (globalSrcIndex !== -1 && globalTargetIndex !== -1) {
                    bookmarks.splice(globalSrcIndex, 1);
                    bookmarks.splice(globalTargetIndex, 0, draggedItem);
                    saveBookmarks();
                }
            }
            if (dropTarget) {
                dropTarget.classList.remove('drop-target');
                dropTarget = null;
            }
            stopAutoScroll();
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
            if (dropTarget) {
                dropTarget.classList.remove('drop-target');
                dropTarget = null;
            }
            dragSrcIndex = null;
            stopAutoScroll();
        }

        function startAutoScroll() {
            const scrollSpeed = 5; // é™ä½æ»šåŠ¨é€Ÿåº¦ä»¥æ›´å¹³ç¨³
            const edgeThreshold = 50; // è§¦å‘æ»šåŠ¨çš„è¾¹ç¼˜è·ç¦»

            scrollInterval = setInterval(() => {
                if (currentClientY === 0) return; // é˜²æ­¢æœªåˆå§‹åŒ–æ—¶æ»šåŠ¨

                const windowHeight = window.innerHeight;
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight;

                // å‘ä¸‹æ»šåŠ¨
                if (currentClientY > windowHeight - edgeThreshold && scrollTop + windowHeight < docHeight) {
                    window.scrollBy(0, scrollSpeed);
                }
                // å‘ä¸Šæ»šåŠ¨
                else if (currentClientY < edgeThreshold && scrollTop > 0) {
                    window.scrollBy(0, -scrollSpeed);
                }
            }, 16); // 16ms (çº¦60fps)
        }

        function stopAutoScroll() {
            if (scrollInterval) {
                clearInterval(scrollInterval);
                scrollInterval = null;
            }
            currentClientY = 0; // é‡ç½®ä½ç½®
            currentClientX = 0; // é‡ç½®æ¨ªåæ ‡
        }

        // æ£€æµ‹é¼ æ ‡/è§¦æ‘¸æ˜¯å¦åœ¨ç›®æ ‡å¡ç‰‡å†…
        function isOverTarget(target, clientX, clientY) {
            const rect = target.getBoundingClientRect();
            return clientX >= rect.left && clientX <= rect.right &&
                   clientY >= rect.top && clientY <= rect.bottom;
        }

        // è§¦æ‘¸äº‹ä»¶æ”¯æŒ
        function handleTouchStart(e) {
            touchSrcIndex = parseInt(e.target.closest('.bookmark-card')?.dataset.index);
            touchStartY = e.touches[0].clientY;
            const card = e.target.closest('.bookmark-card');
            if (card) {
                card.classList.add('dragging');
            }
            currentClientY = touchStartY; // åˆå§‹åŒ–è§¦æ‘¸ä½ç½®
            currentClientX = e.touches[0].clientX; // åˆå§‹åŒ–æ¨ªåæ ‡
            startAutoScroll();
        }

        function handleTouchMove(e) {
            e.preventDefault(); // é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ»šåŠ¨
            const touch = e.touches[0];
            currentClientY = touch.clientY; // æ›´æ–°è§¦æ‘¸ä½ç½®
            currentClientX = touch.clientX; // æ›´æ–°æ¨ªåæ ‡
            
            const target = document.elementFromPoint(currentClientX, currentClientY)?.closest('.bookmark-card');
            if (target && target !== document.querySelector('.dragging')) {
                if (dropTarget && dropTarget !== target) {
                    dropTarget.classList.remove('drop-target');
                }
                dropTarget = target;
                dropTarget.classList.add('drop-target');
            }
        }

        function handleTouchEnd(e) {
            const dragTargetIndex = parseInt(dropTarget?.dataset.index);
            if (touchSrcIndex !== null && dragTargetIndex !== undefined && touchSrcIndex !== dragTargetIndex) {
                const draggedItem = filteredBookmarks[touchSrcIndex];
                const globalSrcIndex = bookmarks.indexOf(draggedItem);
                const globalTargetIndex = bookmarks.indexOf(filteredBookmarks[dragTargetIndex]);
                if (globalSrcIndex !== -1 && globalTargetIndex !== -1) {
                    bookmarks.splice(globalSrcIndex, 1);
                    bookmarks.splice(globalTargetIndex, 0, draggedItem);
                    saveBookmarks();
                }
            }

            const dragging = document.querySelector('.dragging');
            if (dragging) {
                dragging.classList.remove('dragging');
            }
            if (dropTarget) {
                dropTarget.classList.remove('drop-target');
                dropTarget = null;
            }
            touchSrcIndex = null;
            stopAutoScroll();
        }

        window.onload = function() {
            try {
                const storedBookmarks = localStorage.getItem('bookmarks');
                bookmarks = storedBookmarks ? JSON.parse(storedBookmarks) : [];
                selectedCategory = 'å…¨éƒ¨';
                filteredBookmarks = [...bookmarks];
                renderBookmarks();
            } catch (e) {
                console.error('åŠ è½½ä¹¦ç­¾å¤±è´¥ï¼š' + e.message);
                bookmarks = [];
                filteredBookmarks = [];
                renderBookmarks();
                alert('åŠ è½½ä¹¦ç­¾å¤±è´¥ï¼Œå·²é‡ç½®ä¸ºç©ºåˆ—è¡¨ï¼š' + e.message);
            }

            const isFirstVisit = !localStorage.getItem('hasVisited');
            if (isFirstVisit && bookmarks.length === 0) {
                alert('æ¬¢è¿ä½¿ç”¨ç¦»çº¿ä¹¦ç­¾ç®¡ç†å™¨ï¼è‹¥æœ‰åŒç›®å½•ä¸‹çš„ bookmarks.json æˆ– txt æ–‡ä»¶ï¼Œè¯·ç‚¹å‡»â€œå¯¼å…¥ä¹¦ç­¾â€åŠ è½½åˆ†äº«çš„ä¹¦ç­¾ã€‚');
                localStorage.setItem('hasVisited', 'true');
            }
        };

        window.onbeforeunload = function() {
            saveBookmarks();
        };
    </script>
</body>
</html>